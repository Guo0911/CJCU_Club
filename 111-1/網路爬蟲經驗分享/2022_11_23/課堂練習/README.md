# **2022/11/23 網路爬蟲經驗分享 - 課堂練習**

### **此為課堂練習題目，請學員自行依照講師上課內容進行程式更改，使新程式可以完成本題要求**

_請注意自身抓取資料的時間間隔，以**不造成他人伺服器或網站負擔**為原則_

***

## **套件安裝**
請於Python環境中安裝以下套件
```
pip install bs4
```

***

## **練習題目**
### **題目要求**
1. 讓使用者可以自行輸入網址，請輸出提示訊息「請輸入批踢踢實業紡看板網址:」
2. 抓取輸入的看板網址內所有文章標題及連結，並延伸抓取每篇文章的內容
3. 按照**原始畫面**及**輸出範例**的格式對應，並將相關訊息輸出
    * 標題及連結與文章內容中間要有空一行
    * 每筆資料結尾請輸出「------------------------------------」作為分隔

### **注意事項**
1. 批踢踢實業紡常有18+認證的按鈕，請按照講師教學方式或自行查找資料繞過認證
    * 在Cookie中加入`over18=1`
2. 批踢踢實業紡的文章若刪除，會導致標題的連結消失，需另外處理
    * 請依照**輸出範例**內的格式修改網址
3. 爬蟲所抓取的網址可能會缺少前墜(如:`https://www.ptt.cc/`)，請自行補上
    * 請注意前墜與連結間的`/`僅有一個，若有兩個可能導致後續進行文章內時Cookie無法正常發動
        * 例如: 抓取網址為「`/bbs/Gossiping/M.1668474251.A.E47.html`」則前墜僅能補上「`https://www.ptt.cc`」
        * 正確範例: 「`https://www.ptt.cc/bbs/Gossiping/M.1668474251.A.E47.html`」
        * 錯誤範例: 「`https://www.ptt.cc//bbs/Gossiping/M.1668474251.A.E47.html`」
4. 本題將於下次授課(預計2022/11/30)進行講解，請同學於授課前自行完成，若有問題請以以下方式聯絡
    * Mail: 109B30612@mailst.cjcu.edu.tw
    * 另約時間於[人工智慧研究中心(T30620)](https://rcai.cjcu.edu.tw/)進行詢問

### **原始畫面**
![Originial Information](./README/original%20information.png)
![Originial Information2](./README/original%20information2.png)

### **輸出範例**
```
請輸入批踢踢實業紡看板網址: https://www.ptt.cc/bbs/Gossiping/index38997.html
第1篇文章: (本文已被刪除) [melissalewis] - 文章已被刪除 

文章已被刪除
------------------------------------
第2篇文章: [問卦] 萬年里長落選後會去哪？ - https://www.ptt.cc/bbs/Gossiping/M.1668474251.A.E47.html 

現在一堆年輕正妹出來選里長
假設她們都選上然後當了四屆好了
如果現在26歲加上16年
那時都已經42了，沒有里長當又沒有其他工作經驗
那時候他們都要做什麼啊？
------------------------------------
第3篇文章: [新聞] 拜習會長談3小時！拜登重申一中政策不變  - https://www.ptt.cc/bbs/Gossiping/M.1668474311.A.DCE.html 

1.媒體來源:
聯合報
2.記者署名:
陳韋廷
3.完整新聞標題:
拜習會長談3小時！拜登重申一中政策不變 反對大陸脅迫台灣
4.完整新聞內文:
美國總統拜登14日與中國大陸國家主席習近平會談時表示，美國的一中政策不變，反對片面
改變現狀，維護台海和平穩定符合世界利益。
拜登也對中國脅迫台灣、日益挑釁行為、破壞台海和更廣泛區域和平穩定、危害全球繁榮之
舉，提出美方異議。
5.完整新聞連結 (或短網址)需放媒體原始連結，不可用轉載媒體連結:
https://udn.com/news/story/6811/6764920
6.備註:
--
正港台灣人的電視台--蕃薯台
------------------------------------
第4篇文章: [新聞] 批選舉成人格毀滅戰 陳時中：北市民眼睛 - https://www.ptt.cc/bbs/Gossiping/M.1668474311.A.1D8.html 

風傳媒
批選舉成人格毀滅戰 陳時中：北市民眼睛是雪亮的
黃信維
2022-11-14 23:30
https://i.imgur.com/wEU2mTz.jpg
只總統蔡英文（左三）、民進黨台北市長候選人陳時中（右二）出席南港玉成公園廟口開講
。（陳品佑攝）
民進黨台北市長候選人陳時中14日在南港玉成公園開講，總統蔡英文、前副總統陳建仁到場
力挺，支持者擠爆現場。陳時中表示，這段期間選舉有三部曲，就是摧毀戰、人格毀滅戰與
莫須有抹黑戰，但台北市民眼睛是雪亮的。
陳時中14日晚間在南港玉成公園開講，一開場，陳時中競選團隊總幹事吳思瑤指出，原本是
在廟口開講，14日改在公園，因為蔡英文與陳時中的魅力，台北已無廟口可容納他們2人的
粉絲，所以南港開講才選在玉成公園。
陳時中強調，衛福部長薛瑞元也成「金句指揮官」，面對審高端前密會一事的質疑，直接回
說「看到鬼」，薛瑞元更說自己20多年沒去過貓空，沒事找10多名高端審查委員去那邊密會
，腦袋有問題？當初離開防疫指揮官位置就設下5大目標，包含要看到疫情終止曙光、疫苗
施打比例提高、藥物流程順暢，最後就是要有堅強團隊能夠繼續。
陳時中指出，不管是部長、次長、署長等每人都能獨當一面，甚至做得比他更好，過去100
多天證明他的眼光沒有錯。薛瑞元甚至在立院嗆說「你們惹錯人了，我不是那種讓你們隨便
欺負的公務人員。」這句話講得很好，很多公務員為了和諧妥協而讓步，但薛瑞元就是挑明
照理、照法走，把部長交給薛瑞元很得意。
https://www.storm.mg/article/4612782
------------------------------------
第5篇文章: [問卦] 台積電自前低漲了近百點？？？ - https://www.ptt.cc/bbs/Gossiping/M.1668474507.A.827.html 

昨晚老巴登高一呼
說台積電不錯
給予買進
成為大股東之一
台積電自前波低點370點
洗一個大碗公
有成功抄底的人根本大賺
怎麼還有人唱衰台積電啊
根本天上掉下來的禮物啊
有沒有八卦
*[32m※ 八卦板務請到 GossipPicket 檢舉板實名詢問*[m
*[32m※ a.張貼問卦請注意，充實文章內容、*[1;33m是否有專板*[;32;40m，*[1;35m本板
*[32m※ b.一天只能張貼 "*[1;33m三則*[;32;40m" 問卦，*[1;36m自刪及被刪也算三篇之
*[32m※   超貼者將被水桶，請注意!*[m
*[32m※ c.*[1;33;44m本看板嚴格禁止政治問卦*[;32;40m，*[1;36;41m發文問卦前請先仔
*[32m※ d.*[1;37;41m未滿30繁體中文字水桶3個月，嚴重者以鬧板論*[;32;40m，請注意?
*[32m※ (↑看完提醒請刪除ctrl + y)*[m
------------------------------------
第6篇文章: Re: [問卦] 美國沒有賣雞屁股嗎? - https://www.ptt.cc/bbs/Gossiping/M.1668474579.A.9C3.html 

文章已被刪除
------------------------------------
第7篇文章: [問卦] 台灣巴肥特的台gg賣了沒？ - https://www.ptt.cc/bbs/Gossiping/M.1668474656.A.B5A.html 

太神啦！
台灣巴肥特在370附近抄底～
跟米國巴肥特的眼光一樣精準！
請問台灣巴肥特的台gg賣了沒？
------------------------------------
第8篇文章: [問卦] 修機車請特休一天會很瞎嗎？ - https://www.ptt.cc/bbs/Gossiping/M.1668474713.A.068.html 

修機車請特休一天會很瞎嗎？
我家住永和要去新莊上班
騎到中和突然發不動
主管叫我停旁機車格
反正車行也沒這麼早開
叫我想辦法來上班
現在怎麼辦呢
特休還有好幾天
要奴還是反抗呢？
------------------------------------
第9篇文章: [問卦] 正妹喜歡下棋，大家可以嗎？ - https://www.ptt.cc/bbs/Gossiping/M.1668474770.A.73F.html 

我鄰居啦，
有一個喜歡下棋的正妹學姐，
他們每天放學都跑去社團教室下棋，
而且社團只有他們兩個人，沒有別人，
所以等於他幾乎每天都跟正妹學姐獨處。
正妹喜歡下棋，大家可以嗎？
------------------------------------
第10篇文章: [問卦] Rap是唱rap還是唸rap - https://www.ptt.cc/bbs/Gossiping/M.1668474801.A.EBA.html 

當講到台灣推崇的RAP歌手 都會提到蛋堡這個人
但既然是"歌"手，那RAP歌曲應該是用唱的對吧
好不好聽見仁見智，整首歌的RAP都是用"唸"的
去除背景音樂，跟朗誦課文、大悲咒差別在哪....
講話都有高低起伏的音調了 ~ 聽蛋堡的歌 10秒我就想睡了
你各位定義的RAP 是用唱的還是唸的 ?
------------------------------------
第11篇文章: [問卦] 不打仗+波克夏加持 該allin台積了吧？ - https://www.ptt.cc/bbs/Gossiping/M.1668474826.A.B92.html 

嗨嗨嗨 大家早安
小妹看到波克夏有買GG
拜登也說不會打仗
484現在是allin台積的最後時刻啊？
畢竟GG是護國神山
也很多人在600以上買
代表大家都有信心
有沒有今天allin GG
明年準備發大財的拔瓜呢？
------------------------------------
第12篇文章: [問卦] locklock水壺真的能耐熱100℃嗎 - https://www.ptt.cc/bbs/Gossiping/M.1668474901.A.44A.html 

大家好 我是體脂肪32%的社畜阿肥啦
阿肥我喜歡喝茶 尤其是伯爵茶
但常常要去茶水間裝水很麻煩
所以我昨天在五金行買了一個locklock的水壺
他標示可以耐熱100℃
可是我早上裝了熱水
卻覺得瓶神有點軟軟的 比G軟的老二還軟
如題 真的可以耐熱嗎
雞雞會不會縮小啊
如題 有沒有丿ｌ圭卜
http://i.imgur.com/WG66gP3.jpg
-----
Sent from JPTT on my Sony J9110.
------------------------------------
第13篇文章: [新聞] 巴菲特買進台積電ADR逾41億美元 罕見押注 - https://www.ptt.cc/bbs/Gossiping/M.1668474917.A.095.html 

備註請放最後面 違者新聞文章刪除
1.媒體來源:
※ 例如蘋果日報、自由時報（請參考版規下方的核准媒體名單）
※ Yahoo、MSN、LINE等非直接官方新聞連結不被允許
中央通訊社
2.記者署名:
※ 若新聞沒有記者名字或編輯名字，請勿張貼，否則會被水桶14天
※ 外電至少要有來源或編輯 如:法新社
中央社紐約14日綜合外電報導
3.完整新聞標題:
※ 標題沒有完整寫出來 ---> 依照板規刪除文章
巴菲特買進台積電ADR逾41億美元 罕見押注科技股
4.完整新聞內文:
※ 社論特稿都不能貼！違者刪除（政治類水桶3個月)，貼廣告也會被刪除喔！可詳看版規
（中央社紐約14日綜合外電報導）美國億萬富豪巴菲特旗下的波克夏海瑟威公司（
Berkshire Hathaway）今天披露，已買進價值超過41億美元的台積電股票；這是巴菲特的
企業集團對科技領域罕見的一次重大投資。
路透社報導，波克夏海瑟威在向監管機構提交的申報文件中，說明其在截至9月30日對在
美上市公司的股權投資，難得出手押注科技股的波克夏海瑟威如今持有約6010萬股台積電
的美國存託憑證（ADR）。
此外，波克夏海瑟威也透露在建材公司「路易斯安那太平洋公司」（Louisiana-Pacific
Corp）和傑富瑞金融集團（Jefferies Financial Group Inc）新增少量持股。（譯者：
劉文瑜/核稿：張曉雯）1111115
5.完整新聞連結 (或短網址)需放媒體原始連結，不可用轉載媒體連結:
※ 當新聞連結過長時，需提供短網址方便網友點擊
https://www.cna.com.tw/news/afe/202211153001.aspx
6.備註:
※ 一個人一天只能張貼一則新聞(以天為單位)，被刪或自刪也算額度內，超貼者水桶，請注意
※ 備註請勿張貼三日內新聞(包含連結、標題等)
巴菲特的波克夏投資公司最早是做紡織的，後來才轉型成投資公司
------------------------------------
第14篇文章: [新聞] 護士空姐制服任選!人夫用感情吸爆小三做 - https://www.ptt.cc/bbs/Gossiping/M.1668475026.A.C52.html 

護士空姐制服任選！人夫用感情吸爆小三做到子宮發炎..妻心碎開告
ETtoday社會新聞 | ETtoday新聞雲
記者郭玗潔／高雄報導
高雄一人夫不僅對妻子家暴，還上酒店和小姐發展不倫戀，被妻子告上法院。全案審理時
，人夫雖否認妻子所有控訴，但法官查看妻子的驗傷報告，認定他有家暴事實，判賠10萬
元。另法官檢閱人夫和酒店小姐的訊息，發現2人討論子宮發炎、保險套、泡湯、陪洗澡
等話題，小姐還讓人夫挑選床戰制服，認為2人已侵害配偶權，應連帶賠償30萬元，全案
還可上訴。
正宮指控，她結婚8年，丈夫經常辱罵她「林北打死你」、「娶到一個頭腦不好的」等語
，還有掐她脖子、抓傷她手臂等暴力行為，她因此曾和孩子一起被社會局短期安置，要向
丈夫求償10萬元精神撫慰金。另外，丈夫又於2年前上酒店認識酒店小姐後，2人交往並發
生性行為，她於去年發現2人的曖昧訊息，除了互稱老公、寶貝、哈尼，還討論諸如保險
套、泡湯、陪洗澡等話題，並有貼臉、親吻等親密照，顯然有不正常交往，讓她發現後大
受打擊，再向2人連帶求償30萬元。
法官審理，檢視人夫和小三的訊息，人夫不僅掏錢給小三打肉毒，還說「抱妳很好睡」，
小三也回「搶被子更好睡吧」、「你哪天是怎樣吸到現在，還一點紅紅的ㄟ」，人夫則回
「用感情吸的」，而後小三因子宮發炎，懷疑人夫還有和別人上床，人夫更發誓說「現在
真的只有妳」、「至少從去年到現在，我是真的很乾淨喔」，小三也接受人夫說詞，問他
「哈尼，我有學生服、空姐、女傭、護士」、「你選」，讓人夫開心表示「不刺激不用錢
」等親密對話。
法官認為，人夫和小三已逾越一般朋友交往分際，小三雖辯稱她和人夫只是酒店小姐和客
人的關係，但即便是在特殊場所工作，也不能侵害配偶權，判小三和人夫應連帶賠償正宮
30萬元，另外家暴部分，以正宮驗傷報告為證，判人夫應賠償10萬元，全案還可上訴。
https://www.ettoday.net/news/20221114/2379918.htm
偷情男女對話真的沒有下限
------------------------------------
第15篇文章: [問卦] 現在恐、危、怕等侵台新聞哪家最多? - https://www.ptt.cc/bbs/Gossiping/M.1668475140.A.E8F.html 

如題啦
有沒有人算過
這些對台有深深芒果乾的新聞
到底是哪家寫的生產量最多
可以讓台灣人牢記在深深地腦海裡
還是單純稿費優渥
隨便寫寫就好
有沒有這方面的卦?
--
我要他們永遠記得，他們曾經用BBS殺死一個女孩子!
                                              By-鄉民的正義
------------------------------------
第16篇文章: Re: [新聞] 北市封關民調！蔣萬安36%領先、黃珊珊27% - https://www.ptt.cc/bbs/Gossiping/M.1668475179.A.512.html 

台北市民調
亞太菁英/三立
-時中第一
其他所有民調
-萬安第一
--純市話民調_時中第二
--市話+手機混合民調_33第二
正常人大概都看的出來民調趨勢
選舉結果比較可研究的部分
是手機加入民調的可靠度影響
越來越多人沒有再接市話
理論上手機門號重要性會越來越高
33年輕支持者多手機民調會高一點
時中老年支持者多市話民調高一點
最後驗證年輕人是不是就是空氣票
------------------------------------
第17篇文章: [問卦] 龜仙人為什麼可以參加力之大會?? - https://www.ptt.cc/bbs/Gossiping/M.1668475195.A.094.html 

亂七八糟
也看不出來有在修練
照理說連超賽一拳都擋不住的傢伙
而且還不識一開始就出局
停留在場內一段時間後才出局
這強度是不是有甚麼問題啊
------------------------------------
第18篇文章: Re: [新聞] 巴菲特買進台積電ADR逾41億美元 罕見押注 - https://www.ptt.cc/bbs/Gossiping/M.1668475379.A.89B.html 

※ 引述《NTKingsman (宇智波草屯人)》之銘言：
: 備註請放最後面 違者新聞文章刪除
: 1.媒體來源:
: ※ 例如蘋果日報、自由時報（請參考版規下方的核准媒體名單）
: ※ Yahoo、MSN、LINE等非直接官方新聞連結不被允許
: 中央通訊社
: 2.記者署名:
: ※ 若新聞沒有記者名字或編輯名字，請勿張貼，否則會被水桶14天
: ※ 外電至少要有來源或編輯 如:法新社
: 中央社紐約14日綜合外電報導
: 3.完整新聞標題:
: ※ 標題沒有完整寫出來 ---> 依照板規刪除文章
: 巴菲特買進台積電ADR逾41億美元 罕見押注科技股
:
笑薯
老巴買台股前 沒有打聽過天上掉下了的禮物是什麼嗎
以下文章節錄自知名分析師 台灣的第一名分析師 經濟日報選股冠軍紀錄保持人
最早使用TG的分析師 等五十多個稱號
——————————————————
快報!!
巴菲特”首次”買台積電!!!
買了1200多億台積電
哈哈哈
台積電盤後ADR
大噴5.78%以上!!
大漲半根以上漲停!!
….
我還說
400元以下的台積電
是老天爺的眼淚
你真的不買個!
400元以下的台積電嗎
…
股神巴菲特的九十二歲人生
“首次”買進台股
你不跟著我郭哲榮買
你總要跟著巴菲特買股吧
不是嗎!
—————————————————
有沒有 是不是 股票市場我只信哲哲
大家一起跟上老巴 出國空巴
頂尖對決 挖褲挖褲
https://i.imgur.com/6Cc4fXG.jpg
------------------------------------
第19篇文章: [問卦] 包養正妹 - https://www.ptt.cc/bbs/Gossiping/M.1668475477.A.F3E.html 

年輕正妹被包養
老了變地方媽媽換鮑癢
除了保養自己身材外
又來包養持久的牛郎
所以這是種輪迴
------------------------------------
第20篇文章: [新聞] 否認低薪高報詐領！高虹安扯「前立委吳 - https://www.ptt.cc/bbs/Gossiping/M.1668475667.A.9D9.html 

備註請放最後面 違者新聞文章刪除
1.媒體來源:三立
※ 例如蘋果日報、自由時報（請參考版規下方的核准媒體名單）
※ Yahoo、MSN、LINE等非直接官方新聞連結不被允許
2.記者署名:羅欣怡
※ 若新聞沒有記者名字或編輯名字，請勿張貼，否則會被水桶14天
※ 外電至少要有來源或編輯 如:法新社
3.完整新聞標題:否認低薪高報詐領！高虹安扯「前立委吳成典」無罪判決：立委有彈性
※ 標題沒有完整寫出來 ---> 依照板規刪除文章
4.完整新聞內文:
※ 社論特稿都不能貼！違者刪除（政治類水桶3個月)，貼廣告也會被刪除喔！可詳看版規
民眾黨新竹市長候選人高虹安捲入助理費詐領風波，今（14日）又有週刊以「吹哨者」提
供的13頁「完整內帳」，指控高虹安的助理費「低薪高報」，11個月的詐領金額超過60萬
元。對此，高虹安今日下午親上火線說明，除了指稱週刊草率出刊，也懷疑這所謂「內帳
」的真實性，甚至還有被篡改的可能；同時，高虹安也舉例前立委吳成典的詐領助理費到
最高院都獲判無罪的案例，認為公費助理聘用屬於司法勞雇契約，只要有「實際執行」職
務就可以，企圖再次證明自己並沒有詐領助理費。
高虹安針對遭到吹哨者再公佈13頁的「完整內帳」表示相當不認同，在記者會中甚至質問
「吹哨者」的來源和資料非常可疑，認為由於都是電子檔，因此也會有篡改的可能，「我
們怎麼能夠確定這個檔案，是不是經過偽造以及變造」。
高虹安也認為，這名吹哨者的行為意圖非常「詭異」，提供的資料是2020年的薪資檔案，
但卻沒有在第一時間把資料交給檢調，而是把東西壓到了選舉前這麼白熱化的時候，反而
是透過媒體在選舉前爆料，懷疑對方動機不單純，「是不是有對價關係？」「有影響選舉
的意圖？」
不過高虹安卻不細究這份檔案的真偽，而是提出前立委吳成典的助理費判決。高虹安解釋
，判決中指出有關立法院的助理費運用上，確實有讓「立委彈性」的地方。
高虹安強調，判決中明確寫道立法委員公費助理沒有限定應聘資格，學歷、薪資數額，都
是委員決定，也就是說立委和助理屬於聘僱關係，薪水是由委員決定，指出立委公費助理
只要沒有捏名或虛報，就不會有「人頭助理」疑慮。
高虹安解釋，從吳成典的判決可以發現，這些被告的助理，拿到薪資帳戶後，全數捐到立
委服務處，還有新金門聯誼會，「判決也寫得很清楚，立院薪資直接進到助理帳戶，助理
要怎麼處理他的薪水是他的自由意志。」
高虹安說，立院薪資是直接進到助理帳戶，工作所得助理可以自由處分，助理拿到所得，
他要怎麼處分是自由意志，「辦公室助理不是只有固定薪資，實際入帳的金額會是助理敘
薪與獎金，她不曾實際看過辦公室記帳的內容，但助理要向他請款代墊費用時，會列出請
款表格給她看」，同時再三強調「我本人沒有脅迫、強迫將他們所得捐入公積金」。
5.完整新聞連結 (或短網址)需放媒體原始連結，不可用轉載媒體連結:
※ 當新聞連結過長時，需提供短網址方便網友點擊
https://www.setn.com/News.aspx?NewsID=1207841
6.備註:
※ 一個人一天只能張貼一則新聞(以天為單位)，被刪或自刪也算額度內，超貼者水桶，請注意
※ 備註請勿張貼三日內新聞(包含連結、標題等)
------------------------------------
```
